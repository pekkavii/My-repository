<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ydinvoimalaonnettomuusmalli</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />

    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
    
<script>
    function adjustMapSize() {
        document.getElementById("map").style.width = window.innerWidth + "px";
    }

    document.addEventListener("DOMContentLoaded", adjustMapSize);
    window.addEventListener("resize", adjustMapSize);

    setTimeout(adjustMapSize, 500);
</script>

    
<body>
    
<div id="construction-banner">üöß This site is under construction üöß</div>

<div id="controls">
<button id="toggleControls" class="toggle-btn">Piilota ohjaimet</button>
  
<h1>Onnettomuusmalli</h1>

<label for="powerPlantSelection">Valitse ydinvoimala:</label>
<select id="powerPlantSelection">
  <option value="">Valitse voimala...</option>
  <option value="custom">Valitse voimalan paikka kartalta</option>

</select>

<label for="ines">INES-luokka:</label>
<select id="ines">
<option value="3">3 - Vakava poikkeama</option>
<option value="4">4 - Onnettomuus, paikallinen vaikutus</option>
<option value="5" selected>5 - Onnettomuus, laajempi vaikutus</option>
<option value="6">6 - Vakava onnettomuus</option>
<option value="7">7 - Suurin onnettomuus</option>
</select>


<label>Tuulen suunta:</label>
<input type="number" id="windDirection" min="0" max="360" value="90">

<label>Tuulen nopeus (m/s):</label>
<input type="number" id="windSpeed" min="0" max="20" value="5">



<label for="stackHeight">P√§√§st√∂korkeus (m):</label>
<input type="number" id="stackHeight" value="100"><br>

<label for="stabilityClass">Stabiilisuusluokka (A‚ÄìF):</label>
<select id="stabilityClass">
  <option value="A">A (hyvin ep√§vakaa)</option>
  <option value="B">B</option>
  <option value="C">C</option>
  <option value="D" selected>D (neutraali)</option>
  <option value="E">E</option>
  <option value="F">F (vakaa)</option>
</select><br>
    
<label>
  <input type="checkbox" id="useWeatherBasedValues">
  K√§yt√§ todellisia s√§√§tietoja (open-meteo.com)
</label>

<!-- Aiempi Ellipsi-valinta (poistetaan k√§yt√∂st√§) -->
<!--<label><input type="radio" name="model" value="ellipse" checked> Yksinkertainen ellipsimalli</label>-->
<label><input type="radio" name="model" value="gaussian" checked> Gaussian Plume -malli</label>
<label><input type="radio" name="model" value="animaatio" checked> Animaatio</label>
    
<button id="simulateButton">Simuloi</button>

<button id="generateAnimationLayersButton">Luo animaatio</button>
<button id="playAnimationButton">Toista animaatio</button>
   

<div id="loadingSpinner" style="display:none;">Haetaan s√§√§tietoja...</div>
    
</div>
    
<div id="legend">
    <div class="legend-item"><span class="legend-box green"></span> 1‚Äì10 mSv</div>
    <div class="legend-item"><span class="legend-box orange"></span> 10‚Äì100 mSv</div>
    <div class="legend-item"><span class="legend-box red"></span> 100 mSv - 1 Sv</div>
    <div class="legend-item"><span class="legend-box black"></span> > 1 Sv</div>
</div>

 <button id="infoButton">‚Ñπ Info</button>

<div id="infoBox">
    <button id="closeInfo">&times;</button>
    <h2>Ydinvoimalaonnettomuusmalli</h2>
    <p>T√§m√§ malli havainnollistaa ydinvoimalaonnettomuuden mahdollisia vaikutuksia tuulen ja INES-luokan perusteella.
        Malli on esitt√§√§ viikossa kertyv√§n s√§teilyannoksen yksil√∂lle,
        joka oleskelee p√§√§st√∂n vaikutusalueella viikon ajan. Valittava onnettomuus on 
        t√§ysin hypoteettinen, ja radioaktiivisen p√§√§st√∂n suuruus on valittu
        kansainv√§lisen INES-asteikon luokitusten mukaiseksi. Jos laitokseksi valitaan 
        hypoteettinen laitos, jolla maksimiseuraukset eiv√§t voi alla suurimpien 
        INES-luokkien tasoisia, ei t√§t√§ p√§√§st√∂√§ esitet√§. </p>
     
    <h3>INES-luokat</h3>
    <p>INES (International Nuclear Event Scale) -luokat kuvaavat ydinvoimaonnettomuuksien vakavuutta asteikolla 1‚Äì7:</p>
    <ul>
        <li><b>3‚Äì4:</b> V√§h√§inen riski ymp√§rist√∂lle</li>
        <li><b>5:</b> Paikallinen vakava vahinko</li>
        <li><b>6:</b> Laajempi ymp√§rist√∂vaikutus</li>
        <li><b>7:</b> Suurimittainen onnettomuus (esim. T≈°ernobyl, Fukushima)</li>
    </ul>

    <h3>S√§teilyannokset</h3>
    <p>Altistuminen s√§teilylle voi aiheuttaa terveysvaikutuksia:</p>
    <ul>
        <li><b>1‚Äì10 mSv:</b> Ei merkitt√§vi√§ terveyshaittoja</li>
        <li><b>10‚Äì100 mSv:</b> Pieni lis√§riski sy√∂v√§lle</li>
        <li><b>100+ mSv:</b> Kasvava riski vakaville vaikutuksille</li>
    </ul>

    <h3>T√§rke√§√§</h3>
    <p><b>T√§m√§ malli on havainnollistava.</b> Todellisessa onnettomuustilanteessa 
        tulee aina noudattaa <b>viranomaisten ohjeita.
        </b>Suojelutoimet ovat toimenpiteit√§, joiden tavoitteena on, 
        ett√§ s√§teilyvaaratilanteessa v√§est√∂n s√§teilyaltistus j√§√§ mahdollisimman 
        pieneksi, tilanteesta aiheutuvat muut haitat saadaan pidetty√§ 
        mahdollisimman pienin√§ sek√§ ihmisten elinolosuhteet ja 
        yhteiskunnan toiminta saadaan s√§teilyvaaratilanteen j√§lkeen 
        palautettua mahdollisimman normaaleiksi.</p>
</div>


<div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://rawgit.com/gregallensworth/Leaflet.Ellipse/master/leaflet.ellipse.js"></script>

<!-- Animaatio-ohjaimet -->
<div id="animationControls">
    <button id="resetAnimationButton">‚èÆ</button>
    <button id="toggleAnimationButton">‚ñ∂Ô∏è / ‚è∏Ô∏è</button>
    <button id="jumpToEndButton">‚è≠</button>
    <span id="animationStatus">0 / 24 h</span>
    <input type="range" id="animationSlider" min="0" max="23" value="0" style="width: 200px;" oninput="seekAnimation(this.value)">
</div>
    
<script>
document.getElementById("infoButton").addEventListener("click", function() {
    document.getElementById("infoBox").style.display = "block";
});

document.getElementById("closeInfo").addEventListener("click", function() {
    document.getElementById("infoBox").style.display = "none";
});
</script>
<script src="script.js"></script>    
</body>
</html>
